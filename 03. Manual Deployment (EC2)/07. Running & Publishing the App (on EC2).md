# **Running & Publishing the App (on EC2)**

---

# ğŸš€ Goal

Run your Dockerized Node.js application **on the EC2 server** using the image you pushed to Docker Hub.

---

# ğŸ§© **1. Run the image on the EC2 instance**

Reconnect via SSH if needed, then simply run:

```bash
sudo docker run -d --rm -p 80:80 your-dockerhub-username/your-image
```

Notes:

* `sudo` may be required on EC2
* Detached mode (`-d`) and auto-remove (`--rm`) same as local
* Port **80:80** is crucial (host:container)

Docker then:

* Downloads the image from Docker Hub
* Starts a container based on it

You can verify with:

```bash
sudo docker ps
```

---

# ğŸŒ **2. Accessing the application in the browser (âš ï¸ It wonâ€™t work yet)**

Copy your EC2 instanceâ€™s **IPv4 public IP** from the AWS console.
Open it in a browser.

â›” You get nothing â€” no access.

This is NOT an error.
This is AWS security.

---

# ğŸ” **3. Why it doesn't work: EC2 Security Groups**

Security Groups control **inbound** and **outbound** traffic.

* **Outbound:** All allowed â†’ your machine could download the Docker image
* **Inbound:** Only port **22** (SSH) is allowed
  â†’ No HTTP traffic is allowed on port 80
  â†’ Browser cannot connect

---

# ğŸ”§ **4. Fixing it: Allow HTTP (port 80) traffic**

Go to:

**EC2 Dashboard â†’ Security Groups â†’ (Your instanceâ€™s group, usually launch-wizard-X)**

Then:

### **Edit Inbound Rules â†’ Add rule:**

* Type: **HTTP**
* Port: **80**
* Source: **Anywhere (0.0.0.0/0)**

Save the rules.

---

# ğŸŒ **5. Try again**

Enter your EC2 public IP into the browser.

Now you should see:

> **â€œThis works! Congratulations, this app seems to run fine.â€**

ğŸ‰ Success!
Your Dockerized app is now running **on a remote EC2 server**.

---

# ğŸ’¡ **Key Concept Highlight**

You **did not** install Node.js on the remote server.
You only installed **Docker**.

Your image already contains:

* Node.js
* Your app code
* Everything needed to run it

â¡ï¸ This is the power of containers.
The environment is fully self-contained.

---

# ğŸ›  **6. You can run any Docker command on EC2**

Since itâ€™s just a Linux machine running Docker, you could also use:

* `docker build` (not recommended in production)
* `docker compose` (possible, but not the approach used later)
* Multi-container apps (with tweaks to the compose file)

But for production:

* You should deploy **pre-built images** (not build on EC2)

---

# âœ… **Final Takeaway**

Your app now runs on a real server on the internet, powered entirely by a Docker container. You didn't install Node on EC2 â€” Docker handled everything.